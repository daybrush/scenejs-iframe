/*
Copyright (c) 2019 Daybrush
name: @scenejs/iframe
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/scenejs-iframe.git
version: 0.0.1
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("scenejs")):"function"==typeof define&&define.amd?define(["scenejs"],t):(e=e||self).IframeItem=t(e.Scene)}(this,function(e){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var t=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}!function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(e,o);var t=e.prototype;return t.setTime=function(e,t,n,s){o.prototype.setTime.call(this,e,t,n,s);var r=this.getIterationTime();return this.sendMessage((t?"animate":"time")+":"+r),this},t.end=function(){return o.prototype.end.call(this),this.sendMessage("end"),this},t.pause=function(){return o.prototype.pause.call(this),this.sendMessage("pause"),this},t.start=function(e){var t=o.prototype.start.call(this,e);return this.sendMessage("start"),t},t.sendMessage=function(t){this.getElements().forEach(function(e){e.contentWindow&&e.contentWindow.postMessage("scene:"+t,"*")})},e}(e.SceneItem),i="string";return t.register=function(o){!function(e,t,n,s){e.addEventListener(t,n,s)}(window,"message",function(e){var t=e.data;if(function(e){return typeof e===i}(t)){var n=/(?<=^scene\:)([^:]+)(?:\:([^:]+))?/g.exec(t);if(n){var s=n[1],r=n[2];switch(s){case"start":o.start(0);break;case"pause":o.pause();break;case"end":o.end();break;case"time":case"animate":o.setTime(parseFloat(r),"animate"===s,!0)}}}})},t});
//# sourceMappingURL=iframe.min.js.map
